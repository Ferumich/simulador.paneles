<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Calculadora de Probabilidad y Minijuegos</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<style>
        :root {
            --primary: #4e54c8;
            --secondary: #8f94fb;
            --accent: #ff6b6b;
            --dark: #2c3e50;
            --light: #f8f9fa;
            --success: #1dd1a1;
            --warning: #feca57;
            --gray: #8395a7;
            --purple: #9b59b6;
            --orange: #e67e22;
            --pink: #e84393;
            --teal: #1abc9c;
            --blue: #3498db;
            --green: #2ecc71;
            --yellow: #f1c40f;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 15px;
            margin-bottom: 30px;
            color: white;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><polygon points="0,0 100,0 100,100" fill="rgba(255,255,255,0.1)"/></svg>');
            background-size: cover;
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        header p {
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto;
            opacity: 0.9;
            position: relative;
            z-index: 2;
        }
        
        .menu-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .menu-btn {
            padding: 15px 30px;
            font-size: 1.1rem;
            background: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            color: var(--dark);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            min-width: 250px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .menu-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        
        .menu-btn.active {
            background: var(--accent);
            color: white;
        }
        
        .content-section {
            display: none;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            animation: fadeIn 0.5s ease;
        }
        
        .content-section.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .distributions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }
        
        .distribution-card {
            background: var(--light);
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        .distribution-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }
        
        .card-header {
            color: white;
            padding: 15px 20px;
            font-weight: 600;
            font-size: 1.2rem;
        }
        
        .card-body {
            padding: 20px;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }
        
        .input-group input {
            width: 100%;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        .input-group input:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(78, 84, 200, 0.2);
        }
        
        .btn-calculate {
            width: 100%;
            padding: 12px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 10px;
        }
        
        .btn-calculate:hover {
            background: #ff5252;
        }
        
        .chart-container {
            height: 250px;
            margin-top: 20px;
            position: relative;
        }
        
        .random-result {
            margin-top: 20px;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 8px;
            font-weight: 500;
            text-align: center;
        }
        
        .generator-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
        }
        
        .generator-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .generator-controls {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 15px;
        }
        
        .btn-generate {
            background: var(--success);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .btn-generate:hover {
            background: #10ac84;
        }
        
        .results-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            gap: 10px;
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
            padding: 10px;
            background: var(--light);
            border-radius: 8px;
        }
        
        .number-badge {
            display: inline-block;
            padding: 8px;
            background: var(--primary);
            color: white;
            border-radius: 6px;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 500;
        }
        
        footer {
            text-align: center;
            padding: 30px 0;
            color: var(--gray);
            font-size: 0.9rem;
            margin-top: 30px;
        }
        
        .section-title {
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary);
            font-size: 1.5rem;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-top: 20px;
        }
        
        .game-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .game-card:hover {
            transform: translateY(-10px);
        }
        
        .game-header {
            padding: 20px;
            color: white;
            font-weight: 600;
            font-size: 1.3rem;
        }
        
        .game-body {
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .game-visual {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
            margin: 15px 0;
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
        }
        
        .urn {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            padding: 15px;
            background: #e0f7fa;
            border-radius: 10px;
            min-height: 150px;
        }
        
        .ball {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .ball:hover {
            transform: scale(1.1);
        }
        
        .dice-container {
            display: flex;
            gap: 20px;
            justify-content: center;
        }
        
        .die {
            width: 70px;
            height: 70px;
            background: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .dartboard {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: #2c3e50;
            position: relative;
            margin: 0 auto;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .dart {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--accent);
            transform: translate(-50%, -50%);
            z-index: 10;
        }
        
        .dart-bullseye {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent);
            z-index: 5;
        }
        
        .dart-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            border-radius: 50%;
            border: 2px solid white;
            transform: translate(-50%, -50%);
        }
        
        .loot-box {
            width: 120px;
            height: 120px;
            background: var(--orange);
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
            transition: transform 0.3s ease;
        }
        
        .loot-box:hover {
            transform: scale(1.05);
        }
        
        .loot-box::before {
            content: "";
            position: absolute;
            top: 10px;
            left: 10px;
            right: 10px;
            bottom: 10px;
            border: 2px dashed rgba(255,255,255,0.5);
            border-radius: 5px;
        }
        
        .loot-box i {
            font-size: 3rem;
            color: rgba(255,255,255,0.8);
        }
        
        .loot-result {
            min-height: 40px;
            text-align: center;
            font-weight: bold;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
        }
        
        .fishing-pond {
            width: 100%;
            height: 120px;
            background: #3498db;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            margin: 0 auto;
        }
        
        .fish {
            position: absolute;
            font-size: 2rem;
            animation: swim 15s linear infinite;
        }
        
        @keyframes swim {
            0% { left: -50px; transform: translateY(0); }
            25% { transform: translateY(-20px); }
            50% { left: 100%; transform: translateY(0); }
            75% { transform: translateY(20px); }
            100% { left: -50px; transform: translateY(0); }
        }
        
        .game-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .game-btn {
            padding: 12px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .game-btn:hover {
            background: #3f43b9;
        }
        
        .game-stats {
            background: #e3f2fd;
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
            text-align: center;
        }
        
        .highlight {
            background: var(--warning);
            padding: 3px 8px;
            border-radius: 5px;
            color: var(--dark);
        }
        
        @media (max-width: 768px) {
            .menu-container {
                flex-direction: column;
                align-items: center;
            }
            
            .menu-btn {
                width: 100%;
                max-width: 300px;
            }
            
            .distributions-grid, .games-grid {
                grid-template-columns: 1fr;
            }
            
            .generator-controls {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
<div class="container">
<header>
<h1><i class="fas fa-calculator"></i> Calculadora de Probabilidad</h1>
<p>Herramienta interactiva para visualizar distribuciones estad칤sticas y jugar con probabilidades</p>
</header>
<div class="menu-container">
<button class="menu-btn active" data-target="continuous">
<i class="fas fa-chart-line"></i> Variables Continuas
            </button>
<button class="menu-btn" data-target="discrete">
<i class="fas fa-chart-bar"></i> Distribuciones Discretas
            </button>
<button class="menu-btn" data-target="games">
<i class="fas fa-gamepad"></i> Minijuegos de Probabilidad
            </button>

<button class="menu-btn" data-target="solar-calculator">
<i class="fas fa-solar-panel"></i> Calculadora Solar
</button>
</div>
<!-- Secci칩n de Variables Continuas -->
<div class="content-section active" id="continuous">
<h2 class="section-title"><i class="fas fa-chart-line"></i> Distribuciones Continuas</h2>
<div class="distributions-grid">
<!-- Distribuci칩n Uniforme -->
<div class="distribution-card">
<div class="card-header" style="background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);">Distribuci칩n Uniforme</div>
<div class="card-body">
<div class="input-group">
<label for="uniform-a">Valor m칤nimo (a)</label>
<input id="uniform-a" step="0.1" type="number" value="0"/>
</div>
<div class="input-group">
<label for="uniform-b">Valor m치ximo (b)</label>
<input id="uniform-b" step="0.1" type="number" value="10"/>
</div>
<button class="btn-calculate" onclick="plotUniform()">Calcular y Graficar</button>
<div class="chart-container">
<canvas id="uniform-chart"></canvas>
</div>
<div class="random-result" id="uniform-result">N칰mero aleatorio: </div>
</div>
</div>
<!-- Distribuci칩n Gaussiana -->
<div class="distribution-card">
<div class="card-header" style="background: linear-gradient(135deg, var(--accent) 0%, #ff8e8e 100%);">Distribuci칩n Gaussiana</div>
<div class="card-body">
<div class="input-group">
<label for="gaussian-mean">Media (풮)</label>
<input id="gaussian-mean" step="0.1" type="number" value="0"/>
</div>
<div class="input-group">
<label for="gaussian-std">Desviaci칩n Est치ndar (픢)</label>
<input id="gaussian-std" min="0.1" step="0.1" type="number" value="1"/>
</div>
<button class="btn-calculate" onclick="plotGaussian()">Calcular y Graficar</button>
<div class="chart-container">
<canvas id="gaussian-chart"></canvas>
</div>
<div class="random-result" id="gaussian-result">N칰mero aleatorio: </div>
</div>
</div>
<!-- Distribuci칩n Exponencial -->
<div class="distribution-card">
<div class="card-header" style="background: linear-gradient(135deg, var(--success) 0%, #2ecc71 100%);">Distribuci칩n Exponencial</div>
<div class="card-body">
<div class="input-group">
<label for="exponential-lambda">Tasa (풭)</label>
<input id="exponential-lambda" min="0.1" step="0.1" type="number" value="0.5"/>
</div>
<button class="btn-calculate" onclick="plotExponential()">Calcular y Graficar</button>
<div class="chart-container">
<canvas id="exponential-chart"></canvas>
</div>
<div class="random-result" id="exponential-result">N칰mero aleatorio: </div>
</div>
</div>
</div>
</div>
<!-- Secci칩n de Distribuciones Discretas -->
<div class="content-section" id="discrete">
<h2 class="section-title"><i class="fas fa-chart-bar"></i> Distribuciones Discretas</h2>
<div class="distributions-grid">
<!-- Bernoulli -->
<div class="distribution-card">
<div class="card-header" style="background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);">Bernoulli</div>
<div class="card-body">
<div class="input-group">
<label for="bernoulli-p">Probabilidad de 칠xito (p)</label>
<input id="bernoulli-p" max="1" min="0" step="0.1" type="number" value="0.7"/>
</div>
<button class="btn-calculate" onclick="plotBernoulli()">Calcular y Graficar</button>
<div class="chart-container">
<canvas id="bernoulli-chart"></canvas>
</div>
<div class="random-result" id="bernoulli-result">N칰mero aleatorio: </div>
</div>
</div>
<!-- Binomial -->
<div class="distribution-card">
<div class="card-header" style="background: linear-gradient(135deg, var(--accent) 0%, #ff8e8e 100%);">Binomial</div>
<div class="card-body">
<div class="input-group">
<label for="binomial-n">N칰mero de ensayos (n)</label>
<input id="binomial-n" min="1" step="1" type="number" value="10"/>
</div>
<div class="input-group">
<label for="binomial-p">Probabilidad de 칠xito (p)</label>
<input id="binomial-p" max="1" min="0" step="0.1" type="number" value="0.7"/>
</div>
<button class="btn-calculate" onclick="plotBinomial()">Calcular y Graficar</button>
<div class="chart-container">
<canvas id="binomial-chart"></canvas>
</div>
<div class="random-result" id="binomial-result">N칰mero aleatorio: </div>
</div>
</div>
<!-- Poisson -->
<div class="distribution-card">
<div class="card-header" style="background: linear-gradient(135deg, var(--success) 0%, #2ecc71 100%);">Poisson</div>
<div class="card-body">
<div class="input-group">
<label for="poisson-lambda">Tasa (풭)</label>
<input id="poisson-lambda" min="0.1" step="0.1" type="number" value="4"/>
</div>
<button class="btn-calculate" onclick="plotPoisson()">Calcular y Graficar</button>
<div class="chart-container">
<canvas id="poisson-chart"></canvas>
</div>
<div class="random-result" id="poisson-result">N칰mero aleatorio: </div>
</div>
</div>
<!-- Binomial Negativa -->
<div class="distribution-card">
<div class="card-header" style="background: linear-gradient(135deg, var(--purple) 0%, #8e44ad 100%);">Binomial Negativa</div>
<div class="card-body">
<div class="input-group">
<label for="negbin-r">N칰mero de 칠xitos (r)</label>
<input id="negbin-r" min="1" step="1" type="number" value="5"/>
</div>
<div class="input-group">
<label for="negbin-p">Probabilidad de 칠xito (p)</label>
<input id="negbin-p" max="1" min="0" step="0.1" type="number" value="0.7"/>
</div>
<button class="btn-calculate" onclick="plotNegativeBinomial()">Calcular y Graficar</button>
<div class="chart-container">
<canvas id="negbin-chart"></canvas>
</div>
<div class="random-result" id="negbin-result">N칰mero aleatorio: </div>
</div>
</div>
<!-- Geom칠trica -->
<div class="distribution-card">
<div class="card-header" style="background: linear-gradient(135deg, var(--orange) 0%, #d35400 100%);">Geom칠trica</div>
<div class="card-body">
<div class="input-group">
<label for="geometric-p">Probabilidad de 칠xito (p)</label>
<input id="geometric-p" max="1" min="0" step="0.1" type="number" value="0.7"/>
</div>
<button class="btn-calculate" onclick="plotGeometric()">Calcular y Graficar</button>
<div class="chart-container">
<canvas id="geometric-chart"></canvas>
</div>
<div class="random-result" id="geometric-result">N칰mero aleatorio: </div>
</div>
</div>
<!-- Hipergeom칠trica -->
<div class="distribution-card">
<div class="card-header" style="background: linear-gradient(135deg, var(--pink) 0%, #fd79a8 100%);">Hipergeom칠trica</div>
<div class="card-body">
<div class="input-group">
<label for="hyper-n">Tama침o poblaci칩n (N)</label>
<input id="hyper-n" min="1" step="1" type="number" value="50"/>
</div>
<div class="input-group">
<label for="hyper-k">칄xitos en poblaci칩n (K)</label>
<input id="hyper-k" min="1" step="1" type="number" value="10"/>
</div>
<div class="input-group">
<label for="hyper-num">N칰mero de extracciones (n)</label>
<input id="hyper-num" min="1" step="1" type="number" value="5"/>
</div>
<button class="btn-calculate" onclick="plotHypergeometric()">Calcular y Graficar</button>
<div class="chart-container">
<canvas id="hyper-chart"></canvas>
</div>
<div class="random-result" id="hyper-result">N칰mero aleatorio: </div>
</div>
</div>
</div>
</div>
<!-- Secci칩n de Minijuegos -->
<div class="content-section" id="games">
<h2 class="section-title"><i class="fas fa-gamepad"></i> Minijuegos de Probabilidad</h2>
<p style="text-align: center; margin-bottom: 20px; color: #555;">
                Explora conceptos de probabilidad a trav칠s de estos juegos interactivos.
                Cada juego ilustra una distribuci칩n estad칤stica diferente.
            </p>
<div class="games-grid">
<!-- Juego 1: Urna -->
<div class="game-card">
<div class="game-header" style="background: linear-gradient(135deg, var(--blue) 0%, #2980b9 100%);">
<i class="fas fa-basketball-ball"></i> Extracci칩n de Bolas de Urna
                    </div>
<div class="game-body">
<div class="game-controls">
<div class="input-group">
<label for="bet">Apuesta (suma de 2 a 12):</label>
<input id="bet" max="12" min="2" type="number" value="7"/>
</div>
<div class="input-group">
<label>
<input id="with-replacement" type="checkbox"/> Con reemplazo
                                </label>
</div>
</div>
<div class="game-visual">
<div class="urn" id="urn">
<div class="ball" style="background-color: #e74c3c;">1</div>
<div class="ball" style="background-color: #3498db;">2</div>
<div class="ball" style="background-color: #2ecc71;">3</div>
<div class="ball" style="background-color: #f1c40f;">4</div>
<div class="ball" style="background-color: #9b59b6;">5</div>
<div class="ball" style="background-color: #1abc9c;">6</div>
</div>
</div>
<button class="game-btn" onclick="drawBalls()">
<i class="fas fa-hand-point-up"></i> Extraer 2 bolas
                        </button>
<div class="game-stats">
<div id="urn-result">Resultado: </div>
<div id="urn-sum">Suma: </div>
<div id="urn-win">Victorias: <span class="highlight">0</span> | Intentos: <span class="highlight">0</span></div>
</div>
<div class="random-result">
<strong>Distribuci칩n:</strong> Uniforme discreta (con/sin reemplazo)
                        </div>
</div>
</div>
<!-- Juego 2: Dados -->
<div class="game-card">
<div class="game-header" style="background: linear-gradient(135deg, var(--orange) 0%, #e67e22 100%);">
<i class="fas fa-dice"></i> Lanzamiento de Dados
                    </div>
<div class="game-body">
<div class="game-visual">
<div class="dice-container">
<div class="die" id="die1">1</div>
<div class="die" id="die2">1</div>
</div>
</div>
<div class="game-controls">
<div class="input-group">
<label>
<input checked="" id="two-dice" type="checkbox"/> Lanzar dos dados
                                </label>
</div>
</div>
<button class="game-btn" onclick="rollDice()">
<i class="fas fa-dice"></i> Lanzar dados
                        </button>
<div class="game-stats">
<div id="dice-result">칔ltimo resultado: </div>
<div id="dice-stats">Total lanzamientos: <span class="highlight">0</span></div>
</div>
<div class="chart-container">
<canvas id="dice-chart"></canvas>
</div>
<div class="random-result">
<strong>Distribuci칩n:</strong> Uniforme discreta
                        </div>
</div>
</div>
<!-- Juego 3: Dardos -->
<div class="game-card">
<div class="game-header" style="background: linear-gradient(135deg, var(--purple) 0%, #9b59b6 100%);">
<i class="fas fa-bullseye"></i> Dardos Aleatorios
                    </div>
<div class="game-body">
<div class="game-visual">
<div class="dartboard" id="dartboard">
<div class="dart-bullseye"></div>
<div class="dart-ring" style="width: 150px; height: 150px;"></div>
<div class="dart-ring" style="width: 100px; height: 100px;"></div>
<div class="dart-ring" style="width: 50px; height: 50px;"></div>
<!-- Los dardos se agregar치n aqu칤 din치micamente -->
</div>
</div>
<button class="game-btn" onclick="throwDart()">
<i class="fas fa-bullseye"></i> Lanzar dardo
                        </button>
<div class="game-stats">
<div id="dart-result">Resultado: </div>
<div id="dart-stats">Aciertos: <span class="highlight">0</span> | Lanzamientos: <span class="highlight">0</span></div>
</div>
<div class="random-result">
<strong>Distribuci칩n:</strong> Normal (Gaussiana)
                        </div>
</div>
</div>
<!-- Juego 4: Loot Box -->
<div class="game-card">
<div class="game-header" style="background: linear-gradient(135deg, var(--pink) 0%, #e84393 100%);">
<i class="fas fa-gift"></i> Simulaci칩n de Loot Box
                    </div>
<div class="game-body">
<div class="game-visual">
<div class="loot-box" onclick="openBox()">
<i class="fas fa-gift"></i>
</div>
</div>
<div class="game-controls">
<div class="input-group">
<label for="box-prob">Probabilidad de 칤tem raro:</label>
<input id="box-prob" max="0.99" min="0.01" step="0.01" type="number" value="0.1"/>
</div>
</div>
<button class="game-btn" onclick="openBox()">
<i class="fas fa-box-open"></i> Abrir caja
                        </button>
<div class="loot-result" id="box-result"></div>
<div class="game-stats">
<div id="box-stats">칈tems raros: <span class="highlight">0</span> | Total cajas: <span class="highlight">0</span></div>
</div>
<div class="random-result">
<strong>Distribuci칩n:</strong> Bernoulli/Binomial
                        </div>
</div>
</div>
<!-- Juego 5: Pesca -->
<div class="game-card">
<div class="game-header" style="background: linear-gradient(135deg, var(--teal) 0%, #1abc9c 100%);">
<i class="fas fa-fish"></i> Juego de Pesca
                    </div>
<div class="game-body">
<div class="game-visual">
<div class="fishing-pond">
<div class="fish">游</div>
<div class="fish" style="animation-delay: -3s;">游</div>
<div class="fish" style="animation-delay: -7s;">游냐</div>
</div>
</div>
<div class="game-controls">
<div class="input-group">
<label for="fish-prob">Probabilidad de pez raro:</label>
<input id="fish-prob" max="0.99" min="0.01" step="0.01" type="number" value="0.2"/>
</div>
</div>
<button class="game-btn" onclick="goFishing()">
<i class="fas fa-fishing-rod"></i> Intentar pescar
                        </button>
<div class="loot-result" id="fishing-result"></div>
<div class="game-stats">
<div id="fishing-attempts">Intentos actuales: <span class="highlight">0</span></div>
<div id="fishing-stats">Total peces raros: <span class="highlight">0</span></div>
</div>
<div class="random-result">
<strong>Distribuci칩n:</strong> Geom칠trica
                        </div>
</div>
</div>
</div>
</div>
<!-- Generador de n칰meros aleatorios -->
<div class="content-section" id="solar-calculator">
<h2 class="section-title"><i class="fas fa-solar-panel"></i> Calculadora de Paneles Solares</h2>
<div class="distribution-card">
<div class="card-header" style="background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);">Estimaci칩n de Paneles para Morelia</div>
<div class="card-body">
<div class="input-group">
<label for="solar-consumo">Consumo mensual (kWh)</label>
<input id="solar-consumo" max="2000" min="100" type="number" value="400"/>
</div>
<div class="input-group">
<label for="solar-costo">Costo por panel (MXN)</label>
<input id="solar-costo" step="500" type="number" value="10000"/>
</div>
<div class="input-group">
<label for="solar-precio">Precio electricidad (MXN/kWh)</label>
<input id="solar-precio" step="0.1" type="number" value="1.5"/>
</div>
<div class="input-group">
<label for="solar-degradacion">Degradaci칩n anual del panel (%)</label>
<input id="solar-degradacion" max="5" min="0" step="0.1" type="number" value="0.5"/>
</div>
<button class="btn-calculate" onclick="simularPaneles()">Calcular</button>
<div class="random-result" id="solar-resultados">Resultados: </div>
<div class="chart-container"><canvas id="solar-histograma"></canvas></div>
</div>
</div>
</div><div class="generator-section">
<div class="generator-header">
<h2 class="section-title"><i class="fas fa-random"></i> Generador de N칰meros Aleatorios</h2>
<button class="btn-generate" onclick="generateRandomNumbers()">
<i class="fas fa-sync-alt"></i> Generar Nuevos
                </button>
</div>
<div class="results-container" id="random-results">
<!-- Los n칰meros aleatorios se generar치n aqu칤 -->
</div>
</div>
<footer>
<p>춸 2023 Calculadora de Distribuciones Estad칤sticas | Herramienta educativa para an치lisis de probabilidad</p>
</footer>
</div>
<script>
        // Variables para almacenar los gr치ficos
        let uniformChart = null;
        let gaussianChart = null;
        let exponentialChart = null;
        let bernoulliChart = null;
        let binomialChart = null;
        let poissonChart = null;
        let negbinChart = null;
        let geometricChart = null;
        let hyperChart = null;
        let diceChart = null;
        
        // Variables para juegos
        let urnWins = 0;
        let urnAttempts = 0;
        let diceRolls = 0;
        let diceResults = Array(12).fill(0);
        let dartThrows = 0;
        let dartHits = 0;
        let boxesOpened = 0;
        let rareItems = 0;
        let fishingAttempts = 0;
        let rareFish = 0;
        let currentFishingAttempts = 0;
        
        // Funci칩n para cambiar entre secciones
        document.querySelectorAll('.menu-btn').forEach(button => {
            button.addEventListener('click', () => {
                // Quitar clase active de todos los botones
                document.querySelectorAll('.menu-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // Agregar clase active al bot칩n clickeado
                button.classList.add('active');
                
                // Ocultar todas las secciones
                document.querySelectorAll('.content-section').forEach(section => {
                    section.classList.remove('active');
                });
                
                // Mostrar la secci칩n correspondiente
                const target = button.getAttribute('data-target');
                document.getElementById(target).classList.add('active');
            });
        });
        
        // Funci칩n para generar n칰meros aleatorios
        function generateRandomNumbers() {
            const container = document.getElementById('random-results');
            container.innerHTML = '';
            
            for (let i = 0; i < 50; i++) {
                const randomNum = (Math.random() * 100).toFixed(2);
                const badge = document.createElement('div');
                badge.className = 'number-badge';
                badge.textContent = randomNum;
                container.appendChild(badge);
            }
        }
        
        // Funciones para las distribuciones continuas
        function plotUniform() {
            const a = parseFloat(document.getElementById('uniform-a').value);
            const b = parseFloat(document.getElementById('uniform-b').value);
            
            if (a >= b) {
                alert('El valor m칤nimo debe ser menor que el valor m치ximo');
                return;
            }
            
            // Generar datos para el gr치fico
            const step = (b - a) / 100;
            const labels = [];
            const data = [];
            
            for (let x = a - (b - a) * 0.2; x <= b + (b - a) * 0.2; x += step) {
                labels.push(x.toFixed(2));
                if (x >= a && x <= b) {
                    data.push(1 / (b - a));
                } else {
                    data.push(0);
                }
            }
            
            // Generar n칰mero aleatorio
            const randomNum = (a + Math.random() * (b - a)).toFixed(4);
            document.getElementById('uniform-result').textContent = `N칰mero aleatorio: ${randomNum}`;
            
            // Crear o actualizar el gr치fico
            const ctx = document.getElementById('uniform-chart').getContext('2d');
            
            if (uniformChart) {
                uniformChart.destroy();
            }
            
            uniformChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Funci칩n de Densidad',
                        data: data,
                        borderColor: '#4e54c8',
                        backgroundColor: 'rgba(78, 84, 200, 0.1)',
                        borderWidth: 2,
                        tension: 0.1,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'f(x)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'x'
                            }
                        }
                    }
                }
            });
        }
        
        function plotGaussian() {
            const mean = parseFloat(document.getElementById('gaussian-mean').value);
            const std = parseFloat(document.getElementById('gaussian-std').value);
            
            if (std <= 0) {
                alert('La desviaci칩n est치ndar debe ser mayor que cero');
                return;
            }
            
            // Generar datos para el gr치fico
            const range = 4 * std;
            const start = mean - range;
            const end = mean + range;
            const step = (end - start) / 100;
            const labels = [];
            const data = [];
            
            for (let x = start; x <= end; x += step) {
                labels.push(x.toFixed(2));
                const exponent = -0.5 * Math.pow((x - mean) / std, 2);
                data.push((1 / (std * Math.sqrt(2 * Math.PI))) * Math.exp(exponent));
            }
            
            // Generar n칰mero aleatorio con Box-Muller
            const u1 = Math.random();
            const u2 = Math.random();
            const z0 = Math.sqrt(-2.0 * Math.log(u1)) * Math.cos(2.0 * Math.PI * u2);
            const randomNum = (mean + z0 * std).toFixed(4);
            document.getElementById('gaussian-result').textContent = `N칰mero aleatorio: ${randomNum}`;
            
            // Crear o actualizar el gr치fico
            const ctx = document.getElementById('gaussian-chart').getContext('2d');
            
            if (gaussianChart) {
                gaussianChart.destroy();
            }
            
            gaussianChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Funci칩n de Densidad',
                        data: data,
                        borderColor: '#ff6b6b',
                        backgroundColor: 'rgba(255, 107, 107, 0.1)',
                        borderWidth: 2,
                        tension: 0.1,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'f(x)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'x'
                            }
                        }
                    }
                }
            });
        }
        
        function plotExponential() {
            const lambda = parseFloat(document.getElementById('exponential-lambda').value);
            
            if (lambda <= 0) {
                alert('La tasa (풭) debe ser mayor que cero');
                return;
            }
            
            // Generar datos para el gr치fico
            const maxX = 10 / lambda;
            const step = maxX / 100;
            const labels = [];
            const data = [];
            
            for (let x = 0; x <= maxX; x += step) {
                labels.push(x.toFixed(2));
                data.push(lambda * Math.exp(-lambda * x));
            }
            
            // Generar n칰mero aleatorio
            const u = Math.random();
            const randomNum = (-Math.log(1 - u) / lambda).toFixed(4);
            document.getElementById('exponential-result').textContent = `N칰mero aleatorio: ${randomNum}`;
            
            // Crear o actualizar el gr치fico
            const ctx = document.getElementById('exponential-chart').getContext('2d');
            
            if (exponentialChart) {
                exponentialChart.destroy();
            }
            
            exponentialChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Funci칩n de Densidad',
                        data: data,
                        borderColor: '#1dd1a1',
                        backgroundColor: 'rgba(29, 209, 161, 0.1)',
                        borderWidth: 2,
                        tension: 0.1,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'f(x)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'x'
                            }
                        }
                    }
                }
            });
        }
        
        // Funciones para las distribuciones discretas
        function plotBernoulli() {
            const p = parseFloat(document.getElementById('bernoulli-p').value);
            
            if (p < 0 || p > 1) {
                alert('La probabilidad debe estar entre 0 y 1');
                return;
            }
            
            // Generar datos para el gr치fico
            const labels = ['0 (Fracaso)', '1 (칄xito)'];
            const data = [1 - p, p];
            
            // Generar n칰mero aleatorio
            const randomNum = Math.random() < p ? 1 : 0;
            document.getElementById('bernoulli-result').textContent = `N칰mero aleatorio: ${randomNum}`;
            
            // Crear o actualizar el gr치fico
            const ctx = document.getElementById('bernoulli-chart').getContext('2d');
            
            if (bernoulliChart) {
                bernoulliChart.destroy();
            }
            
            bernoulliChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Funci칩n de Masa',
                        data: data,
                        backgroundColor: [
                            'rgba(78, 84, 200, 0.7)',
                            'rgba(255, 107, 107, 0.7)'
                        ],
                        borderColor: [
                            'rgba(78, 84, 200, 1)',
                            'rgba(255, 107, 107, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 1,
                            title: {
                                display: true,
                                text: 'P(X=x)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'x'
                            }
                        }
                    }
                }
            });
        }
        
        function plotBinomial() {
            const n = parseInt(document.getElementById('binomial-n').value);
            const p = parseFloat(document.getElementById('binomial-p').value);
            
            if (p < 0 || p > 1) {
                alert('La probabilidad debe estar entre 0 y 1');
                return;
            }
            
            if (n < 1) {
                alert('El n칰mero de ensayos debe ser al menos 1');
                return;
            }
            
            // Funci칩n factorial para coeficiente binomial
            const factorial = num => {
                let result = 1;
                for (let i = 2; i <= num; i++) {
                    result *= i;
                }
                return result;
            };
            
            const nCr = (n, k) => factorial(n) / (factorial(k) * factorial(n - k));
            
            // Generar datos para el gr치fico
            const labels = [];
            const data = [];
            
            for (let k = 0; k <= n; k++) {
                labels.push(k.toString());
                const probability = nCr(n, k) * Math.pow(p, k) * Math.pow(1 - p, n - k);
                data.push(probability);
            }
            
            // Generar n칰mero aleatorio
            let successes = 0;
            for (let i = 0; i < n; i++) {
                if (Math.random() < p) successes++;
            }
            document.getElementById('binomial-result').textContent = `N칰mero aleatorio: ${successes}`;
            
            // Crear o actualizar el gr치fico
            const ctx = document.getElementById('binomial-chart').getContext('2d');
            
            if (binomialChart) {
                binomialChart.destroy();
            }
            
            binomialChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Funci칩n de Masa',
                        data: data,
                        backgroundColor: 'rgba(143, 148, 251, 0.7)',
                        borderColor: 'rgba(78, 84, 200, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'P(X=x)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'N칰mero de 칠xitos (x)'
                            }
                        }
                    }
                }
            });
        }
        
        function plotPoisson() {
            const lambda = parseFloat(document.getElementById('poisson-lambda').value);
            
            if (lambda <= 0) {
                alert('La tasa (풭) debe ser mayor que cero');
                return;
            }
            
            // Generar datos para el gr치fico
            const maxK = Math.min(20, Math.ceil(lambda * 3));
            const labels = [];
            const data = [];
            
            // Funci칩n factorial
            const factorial = num => {
                let result = 1;
                for (let i = 2; i <= num; i++) {
                    result *= i;
                }
                return result;
            };
            
            for (let k = 0; k <= maxK; k++) {
                labels.push(k.toString());
                const probability = (Math.exp(-lambda) * Math.pow(lambda, k)) / factorial(k);
                data.push(probability);
            }
            
            // Generar n칰mero aleatorio usando el algoritmo de Knuth
            let k = 0;
            let p = 1.0;
            const L = Math.exp(-lambda);
            
            do {
                k++;
                p *= Math.random();
            } while (p > L);
            
            const randomNum = k - 1;
            document.getElementById('poisson-result').textContent = `N칰mero aleatorio: ${randomNum}`;
            
            // Crear o actualizar el gr치fico
            const ctx = document.getElementById('poisson-chart').getContext('2d');
            
            if (poissonChart) {
                poissonChart.destroy();
            }
            
            poissonChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Funci칩n de Masa',
                        data: data,
                        backgroundColor: 'rgba(29, 209, 161, 0.7)',
                        borderColor: 'rgba(23, 173, 134, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'P(X=x)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'N칰mero de eventos (x)'
                            }
                        }
                    }
                }
            });
        }
        
        // Funci칩n para Binomial Negativa
        function plotNegativeBinomial() {
            const r = parseInt(document.getElementById('negbin-r').value);
            const p = parseFloat(document.getElementById('negbin-p').value);
            
            if (p < 0 || p > 1) {
                alert('La probabilidad debe estar entre 0 y 1');
                return;
            }
            
            if (r < 1) {
                alert('El n칰mero de 칠xitos debe ser al menos 1');
                return;
            }
            
            // Funci칩n factorial para coeficiente binomial
            const factorial = num => {
                let result = 1;
                for (let i = 2; i <= num; i++) {
                    result *= i;
                }
                return result;
            };
            
            const nCr = (n, k) => factorial(n) / (factorial(k) * factorial(n - k));
            
            // Generar datos para el gr치fico
            const maxK = Math.min(30, r * 5);
            const labels = [];
            const data = [];
            
            for (let k = 0; k <= maxK; k++) {
                labels.push(k.toString());
                const probability = nCr(k + r - 1, k) * Math.pow(p, r) * Math.pow(1 - p, k);
                data.push(probability);
            }
            
            // Generar n칰mero aleatorio
            let failures = 0;
            let successes = 0;
            while (successes < r) {
                if (Math.random() < p) {
                    successes++;
                } else {
                    failures++;
                }
            }
            const randomNum = failures;
            document.getElementById('negbin-result').textContent = `N칰mero aleatorio: ${randomNum}`;
            
            // Crear o actualizar el gr치fico
            const ctx = document.getElementById('negbin-chart').getContext('2d');
            
            if (negbinChart) {
                negbinChart.destroy();
            }
            
            negbinChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Funci칩n de Masa',
                        data: data,
                        backgroundColor: 'rgba(155, 89, 182, 0.7)',
                        borderColor: 'rgba(142, 68, 173, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'P(X=x)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'N칰mero de fracasos (x)'
                            }
                        }
                    }
                }
            });
        }
        
        // Funci칩n para Geom칠trica
        function plotGeometric() {
            const p = parseFloat(document.getElementById('geometric-p').value);
            
            if (p < 0 || p > 1) {
                alert('La probabilidad debe estar entre 0 y 1');
                return;
            }
            
            // Generar datos para el gr치fico
            const maxK = Math.min(30, Math.ceil(10 / p));
            const labels = [];
            const data = [];
            
            for (let k = 1; k <= maxK; k++) {
                labels.push(k.toString());
                const probability = Math.pow(1 - p, k - 1) * p;
                data.push(probability);
            }
            
            // Generar n칰mero aleatorio
            let trials = 1;
            while (Math.random() > p) {
                trials++;
            }
            document.getElementById('geometric-result').textContent = `N칰mero aleatorio: ${trials}`;
            
            // Crear o actualizar el gr치fico
            const ctx = document.getElementById('geometric-chart').getContext('2d');
            
            if (geometricChart) {
                geometricChart.destroy();
            }
            
            geometricChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Funci칩n de Masa',
                        data: data,
                        backgroundColor: 'rgba(230, 126, 34, 0.7)',
                        borderColor: 'rgba(211, 84, 0, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'P(X=x)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Intento del primer 칠xito (x)'
                            }
                        }
                    }
                }
            });
        }
        
        // Funci칩n para Hipergeom칠trica
        function plotHypergeometric() {
            const N = parseInt(document.getElementById('hyper-n').value);
            const K = parseInt(document.getElementById('hyper-k').value);
            const n = parseInt(document.getElementById('hyper-num').value);
            
            if (K > N) {
                alert('칄xitos en poblaci칩n no puede ser mayor que tama침o poblaci칩n');
                return;
            }
            
            if (n > N) {
                alert('N칰mero de extracciones no puede ser mayor que tama침o poblaci칩n');
                return;
            }
            
            // Funci칩n factorial para coeficiente binomial
            const factorial = num => {
                let result = 1;
                for (let i = 2; i <= num; i++) {
                    result *= i;
                }
                return result;
            };
            
            const nCr = (n, k) => factorial(n) / (factorial(k) * factorial(n - k));
            
            // Generar datos para el gr치fico
            const minK = Math.max(0, n + K - N);
            const maxK = Math.min(n, K);
            const labels = [];
            const data = [];
            
            for (let k = minK; k <= maxK; k++) {
                labels.push(k.toString());
                const probability = (nCr(K, k) * nCr(N - K, n - k)) / nCr(N, n);
                data.push(probability);
            }
            
            // Generar n칰mero aleatorio (simulaci칩n)
            let population = [];
            for (let i = 0; i < K; i++) population.push(1); // 칄xitos
            for (let i = 0; i < N - K; i++) population.push(0); // Fracasos
            
            let successes = 0;
            let tempPopulation = [...population];
            for (let i = 0; i < n; i++) {
                const randIndex = Math.floor(Math.random() * tempPopulation.length);
                successes += tempPopulation[randIndex];
                tempPopulation.splice(randIndex, 1);
            }
            
            document.getElementById('hyper-result').textContent = `N칰mero aleatorio: ${successes}`;
            
            // Crear o actualizar el gr치fico
            const ctx = document.getElementById('hyper-chart').getContext('2d');
            
            if (hyperChart) {
                hyperChart.destroy();
            }
            
            hyperChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Funci칩n de Masa',
                        data: data,
                        backgroundColor: 'rgba(232, 67, 147, 0.7)',
                        borderColor: 'rgba(214, 48, 49, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'P(X=x)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: '칄xitos en muestra (x)'
                            }
                        }
                    }
                }
            });
        }
        
        // Funciones para los minijuegos
        function drawBalls() {
            const urn = document.getElementById('urn');
            const balls = urn.querySelectorAll('.ball');
            const bet = parseInt(document.getElementById('bet').value);
            const withReplacement = document.getElementById('with-replacement').checked;
            
            if (bet < 2 || bet > 12) {
                alert('La apuesta debe estar entre 2 y 12');
                return;
            }
            
            // Seleccionar dos bolas aleatorias
            let firstIndex, secondIndex;
            firstIndex = Math.floor(Math.random() * balls.length);
            
            if (withReplacement) {
                secondIndex = Math.floor(Math.random() * balls.length);
            } else {
                do {
                    secondIndex = Math.floor(Math.random() * balls.length);
                } while (secondIndex === firstIndex);
            }
            
            const ball1 = balls[firstIndex];
            const ball2 = balls[secondIndex];
            
            const num1 = parseInt(ball1.textContent);
            const num2 = parseInt(ball2.textContent);
            const sum = num1 + num2;
            
            // Animaci칩n
            ball1.style.transform = 'translateY(-20px)';
            ball2.style.transform = 'translateY(-20px)';
            
            setTimeout(() => {
                ball1.style.transform = '';
                ball2.style.transform = '';
                
                // Mostrar resultados
                document.getElementById('urn-result').textContent = `Resultado: ${num1} y ${num2}`;
                document.getElementById('urn-sum').textContent = `Suma: ${sum}`;
                
                urnAttempts++;
                if (sum === bet) {
                    urnWins++;
                    document.getElementById('urn-result').innerHTML += ' <span style="color: var(--success);">춰Ganaste!</span>';
                }
                
                document.getElementById('urn-win').innerHTML = `Victorias: <span class="highlight">${urnWins}</span> | Intentos: <span class="highlight">${urnAttempts}</span>`;
            }, 500);
        }
        
        function rollDice() {
            const die1 = document.getElementById('die1');
            const die2 = document.getElementById('die2');
            const useTwoDice = document.getElementById('two-dice').checked;
            
            // Animaci칩n
            die1.textContent = '...';
            die2.textContent = '...';
            
            setTimeout(() => {
                const num1 = Math.floor(Math.random() * 6) + 1;
                die1.textContent = num1;
                
                if (useTwoDice) {
                    const num2 = Math.floor(Math.random() * 6) + 1;
                    die2.textContent = num2;
                    const sum = num1 + num2;
                    document.getElementById('dice-result').textContent = `Resultado: ${num1} + ${num2} = ${sum}`;
                    
                    // Actualizar estad칤sticas
                    diceRolls++;
                    diceResults[sum-1]++;
                    document.getElementById('dice-stats').innerHTML = `Total lanzamientos: <span class="highlight">${diceRolls}</span>`;
                    
                    // Actualizar gr치fico
                    updateDiceChart();
                } else {
                    die2.textContent = '-';
                    document.getElementById('dice-result').textContent = `Resultado: ${num1}`;
                    
                    // Actualizar estad칤sticas
                    diceRolls++;
                    diceResults[num1-1]++;
                    document.getElementById('dice-stats').innerHTML = `Total lanzamientos: <span class="highlight">${diceRolls}</span>`;
                    
                    // Actualizar gr치fico
                    updateDiceChart();
                }
            }, 500);
        }
        
        function updateDiceChart() {
            const ctx = document.getElementById('dice-chart').getContext('2d');
            const useTwoDice = document.getElementById('two-dice').checked;
            
            if (diceChart) {
                diceChart.destroy();
            }
            
            if (useTwoDice) {
                const labels = Array.from({length: 11}, (_, i) => i + 2);
                diceChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Frecuencia de suma',
                            data: diceResults.slice(1, 12),
                            backgroundColor: 'rgba(230, 126, 34, 0.7)',
                            borderColor: 'rgba(211, 84, 0, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Frecuencia'
                                }
                            },
                            x: {
                                title: {
                                    display: true,
                                    text: 'Suma de dados'
                                }
                            }
                        }
                    }
                });
            } else {
                const labels = Array.from({length: 6}, (_, i) => i + 1);
                diceChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Frecuencia',
                            data: diceResults.slice(0, 6),
                            backgroundColor: 'rgba(230, 126, 34, 0.7)',
                            borderColor: 'rgba(211, 84, 0, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Frecuencia'
                                }
                            },
                            x: {
                                title: {
                                    display: true,
                                    text: 'Valor del dado'
                                }
                            }
                        }
                    }
                });
            }
        }
        
        function throwDart() {
            const dartboard = document.getElementById('dartboard');
            
            // Crear un nuevo dardo
            const dart = document.createElement('div');
            dart.className = 'dart';
            
            // Posici칩n aleatoria con distribuci칩n normal
            const x = gaussianRandom(100, 30);
            const y = gaussianRandom(100, 30);
            
            dart.style.left = `${x}%`;
            dart.style.top = `${y}%`;
            
            dartboard.appendChild(dart);
            
            // Determinar si es un acierto (dentro del 20% central)
            dartThrows++;
            const distance = Math.sqrt(Math.pow(x - 50, 2) + Math.pow(y - 50, 2));
            if (distance < 10) {
                dartHits++;
                document.getElementById('dart-result').innerHTML = `Resultado: <span style="color: var(--success);">춰Centro! (${distance.toFixed(1)}% de distancia)</span>`;
            } else {
                document.getElementById('dart-result').innerHTML = `Resultado: ${distance.toFixed(1)}% de distancia del centro`;
            }
            
            document.getElementById('dart-stats').innerHTML = `Aciertos: <span class="highlight">${dartHits}</span> | Lanzamientos: <span class="highlight">${dartThrows}</span>`;
            
            // Eliminar dardos antiguos despu칠s de un tiempo
            setTimeout(() => {
                dart.remove();
            }, 3000);
        }
        
        function gaussianRandom(mean, stdDev) {
            const u1 = Math.random();
            const u2 = Math.random();
            const z0 = Math.sqrt(-2.0 * Math.log(u1)) * Math.cos(2.0 * Math.PI * u2);
            return z0 * stdDev + mean;
        }
        
        function openBox() {
            const prob = parseFloat(document.getElementById('box-prob').value);
            const resultDiv = document.getElementById('box-result');
            
            if (prob < 0.01 || prob > 0.99) {
                alert('La probabilidad debe estar entre 0.01 y 0.99');
                return;
            }
            
            // Animaci칩n
            const lootBox = document.querySelector('.loot-box');
            lootBox.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
            lootBox.style.backgroundColor = '#e74c3c';
            
            setTimeout(() => {
                boxesOpened++;
                const rand = Math.random();
                
                if (rand < prob) {
                    // 칈tem raro
                    rareItems++;
                    resultDiv.innerHTML = '<span style="color: #f1c40f;">춰칈tem legendario!</span>';
                    lootBox.innerHTML = '<i class="fas fa-crown" style="color: #f1c40f;"></i>';
                    lootBox.style.backgroundColor = '#f1c40f';
                } else if (rand < 0.3) {
                    // 칈tem 칠pico
                    resultDiv.innerHTML = '<span style="color: #9b59b6;">춰칈tem 칠pico!</span>';
                    lootBox.innerHTML = '<i class="fas fa-gem" style="color: #9b59b6;"></i>';
                    lootBox.style.backgroundColor = '#9b59b6';
                } else if (rand < 0.6) {
                    // 칈tem raro
                    resultDiv.innerHTML = '<span style="color: #3498db;">춰칈tem raro!</span>';
                    lootBox.innerHTML = '<i class="fas fa-star" style="color: #3498db;"></i>';
                    lootBox.style.backgroundColor = '#3498db';
                } else {
                    // 칈tem com칰n
                    resultDiv.innerHTML = '칈tem com칰n';
                    lootBox.innerHTML = '<i class="fas fa-cube"></i>';
                    lootBox.style.backgroundColor = '#e67e22';
                }
                
                document.getElementById('box-stats').innerHTML = `칈tems raros: <span class="highlight">${rareItems}</span> | Total cajas: <span class="highlight">${boxesOpened}</span>`;
            }, 1500);
        }
        
        function goFishing() {
            const prob = parseFloat(document.getElementById('fish-prob').value);
            const resultDiv = document.getElementById('fishing-result');
            
            if (prob < 0.01 || prob > 0.99) {
                alert('La probabilidad debe estar entre 0.01 y 0.99');
                return;
            }
            
            currentFishingAttempts++;
            
            const rand = Math.random();
            if (rand < prob) {
                // Pesc칩 un pez raro
                rareFish++;
                resultDiv.innerHTML = `<span style="color: var(--success);">춰Pescaste un pez raro en ${currentFishingAttempts} intentos!</span>`;
                document.getElementById('fishing-attempts').innerHTML = `Intentos actuales: <span class="highlight">0</span>`;
                currentFishingAttempts = 0;
            } else {
                resultDiv.innerHTML = `Intento ${currentFishingAttempts}: No pescaste nada`;
                document.getElementById('fishing-attempts').innerHTML = `Intentos actuales: <span class="highlight">${currentFishingAttempts}</span>`;
            }
            
            document.getElementById('fishing-stats').innerHTML = `Total peces raros: <span class="highlight">${rareFish}</span>`;
        }
        
        // Inicializar la p치gina
        window.onload = function() {
            // Graficar distribuciones con valores por defecto
            plotUniform();
            plotGaussian();
            plotExponential();
            plotBernoulli();
            plotBinomial();
            plotPoisson();
            plotNegativeBinomial();
            plotGeometric();
            plotHypergeometric();
            
            // Inicializar gr치fico de dados
            updateDiceChart();
            
            // Generar n칰meros aleatorios iniciales
            generateRandomNumbers();
        };
    </script>
<script>
// --------- Simulaci칩n de Paneles ---------
function simularPaneles() {
    const consumoMensual = parseFloat(document.getElementById("solar-consumo").value);
    const costoPanel = parseFloat(document.getElementById("solar-costo").value);
    const precioKwh = parseFloat(document.getElementById("solar-precio").value);
    const degradacion = parseFloat(document.getElementById("solar-degradacion").value);

    const consumoDiario = consumoMensual / 30;
    const n = 1000;
    const radiacion = Array.from({length: n}, () => normalRandom(6, 0.5));
    const consumo = Array.from({length: n}, () => normalRandom(consumoDiario, 0.8));

    const area = 1.6, eficiencia = 0.18, perdidas = 0.8;
    const energiaPanel = radiacion.map(r => r * area * eficiencia * perdidas);
    const razon = consumo.map((c, i) => c / energiaPanel[i]);
    const razonOrdenada = [...razon].sort((a,b) => a - b);
    const N = Math.ceil(razonOrdenada[Math.floor(0.95 * n)]);

    const costoTotal = N * costoPanel;
    const ahorroMensual = consumoMensual * precioKwh;

    let a침os = 0, totalAhorro = 0;
    const energiaAnual = promedio(energiaPanel) * 365;
    const costoAnual = ahorroMensual * 12;
    while (totalAhorro < costoTotal && a침os < 50) {
        const factor = Math.pow(1 - degradacion / 100, a침os);
        totalAhorro += costoAnual * factor;
        a침os++;
    }

    document.getElementById("solar-resultados").innerHTML = `
        <p>Paneles necesarios (95% confianza): <strong>${N}</strong></p>
        <p>Costo total: <strong>$${costoTotal.toFixed(2)}</strong></p>
        <p>Ahorro mensual estimado: <strong>$${ahorroMensual.toFixed(2)}</strong></p>
        <p>Tiempo de recuperaci칩n: <strong>${a침os} a침os</strong></p>
    `;

    // Histograma
    const ctx = document.getElementById('solar-histograma').getContext('2d');
    const counts = {};
    razon.forEach(v => {
        const k = Math.round(v);
        counts[k] = (counts[k] || 0) + 1;
    });
    const labels = Object.keys(counts);
    const values = Object.values(counts);

    if (window.solarChart) window.solarChart.destroy();
    window.solarChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: labels,
            datasets: [{
                label: 'Distribuci칩n de Paneles',
                data: values,
                backgroundColor: 'rgba(243, 156, 18, 0.6)',
                borderColor: 'rgba(243, 156, 18, 1)',
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                y: { beginAtZero: true },
                x: { title: { display: true, text: 'Cantidad de Paneles' } }
            }
        }
    });
}

function normalRandom(media, sigma) {
    const u1 = Math.random(), u2 = Math.random();
    const z = Math.sqrt(-2 * Math.log(u1)) * Math.cos(2 * Math.PI * u2);
    return Math.max(0, media + z * sigma);
}

function promedio(arr) {
    return arr.reduce((a, b) => a + b, 0) / arr.length;
}
</script></body>
</html>